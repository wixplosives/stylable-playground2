(self.webpackChunk_wixc3_stylable_playground_feature=self.webpackChunk_wixc3_stylable_playground_feature||[]).push([[274],{51609:(e,t)=>{"use strict";function n(e,t){if(t.isStylableModule(e)){const n=[],i=t.getModulePathNoExt(e);for(const r of t.getImporters(e))t.isStylableModule(r)||t.getModulePathNoExt(r)!==i||n.push(r);if(n.length>1)throw new Error(`Stylable Component Conflict:\n${e} has multiple components entries [${n}] `);return n[0]}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCSSViewModule=t.calcDepth=void 0,t.calcDepth=function e(t,i,r=[],o=new Map){let l=0;if(o.has(t))return o.get(t);if(r.includes(t))return 0;r=r.concat(t);const a=i.getDependencies(t);for(const t of a)l=Math.max(l,e(t,i,r,o));if(i.isStylableModule(t)){const a=n(t,i);a&&(l=Math.max(l,e(a,i,r,o)),o.delete(a)),l++}return o.set(t,l),l},t.getCSSViewModule=n},2618:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43345);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(r).default}})},43345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFileTreeConfig=void 0;const i=n(5163),r=n(93849),o=i.__importDefault(n(60456)),l=i.__importDefault(n(2206)),a=i.__importDefault(n(93208)),s=n(5689),u=i.__importDefault(n(83654)),c=i.__importDefault(n(1529));t.defaultFileTreeConfig={openedItems:[]},t.default=new r.Feature({id:"projectUI",dependencies:[l.default.asEntity,a.default.asEntity,u.default.asEntity,c.default.asEntity,o.default.asEntity],api:{slotsProcessor:r.Service.withType().defineEntity(s.mainEnv),fileTreeStore:r.Service.withType().defineEntity(s.mainEnv),fileTreeConfig:new r.Config(t.defaultFileTreeConfig),openFilesService:r.Service.withType().defineEntity(s.mainEnv),openFilesConfig:new r.Config({targetAreaGroup:"content",openFiles:[]}),openFileSlot:r.MapSlot.withType().defineEntity(s.mainEnv),contextMenuSlot:r.Slot.withType().defineEntity(s.mainEnv),fileChildrenSlot:r.Slot.withType().defineEntity(s.mainEnv),decorationIconsSlot:r.Slot.withType().defineEntity(s.mainEnv),copyPasteManager:r.Service.withType().defineEntity(s.mainEnv),fileStylingSlot:r.OrderedSlot.withType().defineEntity(s.mainEnv),fileStylingConfig:new r.Config([]),fileIconSlot:r.OrderedSlot.withType().defineEntity(s.mainEnv),fileIconService:r.Service.withType().defineEntity(s.mainEnv),renderFileIconConfig:new r.Config([["extension",["default"]]])}})},82026:(e,t,n)=>{e.exports=n(2618)},43934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(5163);i.__exportStar(n(31434),t);var r=n(31434);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.__importDefault(r).default}})},2206:(e,t,n)=>{e.exports=n(43934)},70286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163),r=i.__importStar(n(2206)),o=i.__importDefault(n(82026)),l=n(93849);t.default=new l.Feature({id:"stylable",dependencies:[r.default.asEntity,o.default.asEntity],api:{createStylable:l.Service.withType().defineEntity(r.processingEnv),createCalcDepthContext:l.Service.withType().defineEntity(r.processingEnv)}})},51234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163),r=n(96435),o=n(47325),l=n(2206),a=n(70130);i.__importDefault(n(70286)).default.setup(l.processingEnv,(({onDispose:e},{project:{fs:t,projectService:n}})=>{const i=new Set,{requireModule:l,resolveFrom:s,requireCache:u}=(0,r.createCjsModuleSystem)({fs:t});function c(e){u.delete(e.path);for(const t of i)t.initCache({filter:(t,n)=>!!n.value&&n.resolvedPath!==e.path})}return t.watchService.addGlobalListener(c),e((()=>{t.watchService.removeGlobalListener(c)})),{createCalcDepthContext:e=>(0,a.createCalcDepthContext)(e,t),createStylable(e={}){const r=o.Stylable.create({fileSystem:t,projectRoot:n.getProjectPath(),requireModule:l,resolveModule:(e,t)=>{const n=s(e,t);if(!1===n)throw new Error(`Stylable does not support browser field 'false' values. ${t} resolved to 'false' from ${e}`);if(void 0===n)throw new Error(`Stylable cannot resolve request: ${t}`);return n},...e});return e.resolverCache||r.initCache(),i.add(r),r}}}))},70130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDependenciesGraph=t.createDepthMap=t.depthAwareRuntimeInitializer=t.createCalcDepthContext=void 0;const i=n(51609);t.createCalcDepthContext=function(e,t){return{getDependencies:t=>e[t].imported,getImporters:t=>e[t].importers,isStylableModule:e=>e.endsWith(".st.css"),getModulePathNoExt:e=>{if(e.endsWith(".st.css"))return e.replace(/\.st\.css$/,"");const{dir:n,name:i}=t.parse(e);return t.join(n,i)}}},t.depthAwareRuntimeInitializer=function(e,t){return`\nconst depthMap = ${JSON.stringify(e)};\nconst stylableRuntime = require(${JSON.stringify(t)});   \nif(!stylableRuntime.$.window) {\n    stylableRuntime.$.init(window);\n    const register = stylableRuntime.$.register;\n    stylableRuntime.$.register = function(stylesheet){\n        stylesheet.$depth = stylableRuntime.$.$$depthMap[stylesheet.$id] || -1;\n        return register.call(this, stylesheet);\n    }\n}\nstylableRuntime.$.$$depthMap = {...stylableRuntime.$.$$depthMap, ...depthMap}; \n    `},t.createDepthMap=function(e,t){const n=new Map,r={};let o=!1;for(const l in e)l.endsWith(".st.css")&&(r[l]=(0,i.calcDepth)(l,t,[],n),o=!0);return{depthMapping:r,hasStylableFiles:o}},t.buildDependenciesGraph=function(e,t){var n,i;const r={};for(const o of e){if(!t.isResourceOfType(o))continue;const e=o.getId();null!==(n=r[e])&&void 0!==n||(r[e]={importers:new Set,imported:new Set});for(const t of Object.values(o.getLatest()))"string"==typeof t&&(r[e].imported.add(t),null!==(i=r[t])&&void 0!==i||(r[t]={importers:new Set,imported:new Set}),r[t].importers.add(e))}return r}},91768:()=>{},70764:()=>{},45158:()=>{},58635:()=>{},30139:()=>{},63653:()=>{}}]);