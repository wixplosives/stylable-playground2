(self.webpackChunk_wixc3_stylable_playground_feature=self.webpackChunk_wixc3_stylable_playground_feature||[]).push([[1570],{64049:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(93849),n=o(5689);t.default=new r.Feature({id:"shortcuts",dependencies:[],api:{shortcutService:r.Service.withType().defineEntity(n.mainEnv),actionsService:r.Service.withType().defineEntity(n.mainEnv).allowRemoteAccess(),scopesService:r.Service.withType().defineEntity(n.mainEnv).allowRemoteAccess()}})},66490:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(5163),n=o(5689),i=o(10045),c=o(90925);r.__importDefault(o(64049)).default.setup(n.mainEnv,(({onDispose:e},{})=>{const t=new c.ScopesService,o=new i.ShortcutService(t),r=new i.ActionsService(t,o);return o.subscribe(n.mainEnv.env),e((()=>{o.unsubscribe(n.mainEnv.env)})),{actionsService:r,shortcutService:o,scopesService:t}}))},66725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsService=void 0,t.ActionsService=class{constructor(e,t){this.scopesService=e,this.shortcutService=t,this.actions=new Map}triggerAction(e){const t=this.getActionKey(e,this.scopesService.getScope()),o=this.actions.get(t);o?o.handler():this.actions.has(e)&&this.actions.get(e).handler()}addAction(e){var t;const o=this.getActionKey(e.name,null===(t=e.scopeOptions)||void 0===t?void 0:t.scope);if(this.actions.has(o))throw new Error(`Action '${o}' already exists`);this.actions.set(o,{...e,handler:function(t){e.handler(t)}}),e.shortcut&&this.setShortcut(e.name,e.shortcut,e.scopeOptions)}removeAction(e,t=""){const o=this.getActionKey(e,t),r=this.actions.get(o);if(!r)throw new Error(`Action '${o}' does not exist`);r.shortcut&&this.shortcutService.off(r.shortcut,r.handler,r.scopeOptions),this.actions.delete(o)}deleteShortcut(e,t=""){const o=this.getActionKey(e,t),r=this.actions.get(o);if(!(null==r?void 0:r.shortcut))throw new Error("Action not found");this.shortcutService.off(r.shortcut,r.handler,r.scopeOptions),r.shortcut=void 0,r.scopeOptions=void 0}setShortcut(e,t,o){const r=this.getActionKey(e,null==o?void 0:o.scope),n=this.actions.get(r);if(!n)throw new Error(`Action '${r}' does not exist`);n.shortcut&&this.deleteShortcut(n.name,null==o?void 0:o.scope),Object.assign(n,{shortcut:t,scopeOptions:o}),this.shortcutService.on(t,n.handler,n.scopeOptions)}getActionKey(e,t=""){return t?e+t:e}}},59401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWheelEvent=t.isKeyboardEvent=void 0,t.isKeyboardEvent=function(e){return"keydown"===e.type},t.isWheelEvent=function(e){return"wheel"===e.type}},10045:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(5163);r.__exportStar(o(66725),t),r.__exportStar(o(59401),t),r.__exportStar(o(76353),t),r.__exportStar(o(31875),t),r.__exportStar(o(23626),t),r.__exportStar(o(85098),t),r.__exportStar(o(66131),t)},76353:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutService=void 0;const r=o(20329),n=o(59401);t.ShortcutService=class{constructor(e){this.scopesService=e,this.disabledShortcuts=new Set([]),this.globalShortcuts={},this.scopedShortcuts={},this.forcedGlobal={},this.windows=new Map,this.execute=e=>{const t=this.getEventCode(e),o=e.ctrlKey&&r.KEYBOARD.CONTROL,n=e.metaKey&&r.KEYBOARD.META,i=e.altKey&&r.KEYBOARD.ALT,c=e.shiftKey&&r.KEYBOARD.SHIFT;if(t===r.KEYBOARD.CONTROL||t===r.KEYBOARD.META||t===r.KEYBOARD.SHIFT||t===r.KEYBOARD.ALT)return;const s=[o,n,i,c,t].filter((e=>!!e)).sort().join("+"),a=this.getActiveScope(s);if(a)for(const t of a)t(e)}}subscribe(e,t=window){this.windows.set(e,t),t.addEventListener("keydown",this.execute,{capture:!0}),t.addEventListener("wheel",this.execute,{capture:!0})}unsubscribe(e){const t=this.windows.get(e);null==t||t.removeEventListener("keydown",this.execute,{capture:!0}),null==t||t.removeEventListener("wheel",this.execute,{capture:!0}),this.windows.delete(e)}on(e,t,o){const r=null==o?void 0:o.scope,n=null==o?void 0:o.forcedGlobal,i=this.normalizeEventCode(e);r?(this.scopedShortcuts[r]||(this.scopedShortcuts[r]={}),this.scopedShortcuts[r][i]?this.scopedShortcuts[r][i].push(t):this.scopedShortcuts[r][i]=[t]):n?this.forcedGlobal[i]?this.forcedGlobal[i].push(t):this.forcedGlobal[i]=[t]:this.globalShortcuts[i]?this.globalShortcuts[i].push(t):this.globalShortcuts[i]=[t]}off(e,t,o){const r=this.normalizeEventCode(e),{index:n,relevantShortcuts:i}=this.getIndexOfShortcut(r,t,o);-1!==n&&i[r].splice(n,1)}enableShortcut(e){this.disabledShortcuts.delete(this.normalizeEventCode(e))}disableShortcut(e){this.disabledShortcuts.add(this.normalizeEventCode(e))}getEventCode(e){return(0,n.isKeyboardEvent)(e)?e.code:0!==e.deltaY?r.MOUSE.WHEEL_VERTICAL:0!==e.deltaX?r.MOUSE.WHEEL_HORIZONTAL:void 0}normalizeEventCode(e){return e.sort().join("+")}getActiveScope(e){var t;if(this.disabledShortcuts.has(e))return;const o=this.scopesService.getScope();return o&&(null===(t=this.scopedShortcuts[o])||void 0===t?void 0:t[e])?this.scopedShortcuts[o][e]:!this.scopesService.getIsolatedScope()&&this.globalShortcuts[e]?this.globalShortcuts[e]:this.forcedGlobal[e]?this.forcedGlobal[e]:void 0}getIndexOfShortcut(e,t,o){const r=null==o?void 0:o.scope,n=null==o?void 0:o.forcedGlobal;let i;return i=r&&this.scopedShortcuts[r]?this.scopedShortcuts[r]:n?this.forcedGlobal:this.globalShortcuts,{index:i[e]?i[e].indexOf(t):-1,relevantShortcuts:i}}}},85098:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useActionScope=void 0;const r=o(87363),n=o(10067);t.useActionScope=e=>{const{shortcuts:{scopesService:t}}=(0,n.useMainContext)();return(0,r.useMemo)((()=>({activate:()=>t.setScope(e),deactivate:()=>t.removeScope(e)})),[t,e])}},31875:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAction=void 0;const r=o(87363),n=o(9029);t.useAction=function(e,t,o={}){const{shortcuts:{actionsService:i}}=(0,n.useMainContext)();(0,r.useEffect)((()=>(i.addAction({name:e,handler:t,scopeOptions:o}),()=>i.removeAction(e,o.scope))),[t,i,e,o])}},23626:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useActivateActionScope=void 0;const r=o(10067),n=o(87363);t.useActivateActionScope=e=>{const{shortcuts:{scopesService:t}}=(0,r.useMainContext)();(0,n.useEffect)((()=>(t.setScope(e),()=>t.removeScope(e))),[t,e])}},66131:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useShortcut=void 0;const r=o(87363),n=o(9029);t.useShortcut=function(e,t,{forcedGlobal:o,scope:i}={}){const{shortcuts:{shortcutService:c}}=(0,n.useMainContext)();(0,r.useEffect)((()=>{const r={forcedGlobal:o,scope:i};return c.on(e,t,r),()=>c.off(e,t,r)}),[t,c,e,o,i])}},20329:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.universalCtrl=t.ACTIONS=t.MOUSE=t.KEYBOARD=void 0;const r=o(91570);t.KEYBOARD={UNIDENTIFIED:"Unidentified",ESCAPE:"Escape",MINUS:"Minus",DASH:"Minus",EQUALS:"Equal",BACK_SPACE:"Backspace",TAB:"Tab",ENTER:"Enter",RETURN:"Enter",SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",PAUSE:"Pause",CAPS_LOCK:"CapsLock",SPACE:"Space",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",PRINTSCREEN:"PrintScreen",INSERT:"Insert",DELETE:"Delete",0:"Digit0",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9",A:"KeyA",B:"KeyB",C:"KeyC",D:"KeyD",E:"KeyE",F:"KeyF",G:"KeyG",H:"KeyH",I:"KeyI",J:"KeyJ",K:"KeyK",L:"KeyL",M:"KeyM",N:"KeyN",O:"KeyO",P:"KeyP",Q:"KeyQ",R:"KeyR",S:"KeyS",T:"KeyT",U:"KeyU",V:"KeyV",W:"KeyW",X:"KeyX",Y:"KeyY",Z:"KeyZ",META:"Meta",OS_LEFT:"OSLeft",CONTEXT_MENU:"ContextMenu",NUMPAD0:"Numpad0",NUMPAD1:"Numpad1",NUMPAD2:"Numpad2",NUMPAD3:"Numpad3",NUMPAD4:"Numpad4",NUMPAD5:"Numpad5",NUMPAD6:"Numpad6",NUMPAD7:"Numpad7",NUMPAD8:"Numpad8",NUMPAD9:"Numpad9",NUMPAD_MULTIPLY:"NumpadMultiply",NUMPAD_ADD:"NumpadAdd",NUMPAD_SUBTRACT:"NumpadSubtract",NUMPAD_DECIMAL:"NumpadDecimal",NUMPAD_DIVIDE:"NumpadDivide",NUMPAD_ENTER:"NumpadEnter",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",F21:"F21",F22:"F22",F23:"F23",F24:"F24",NUM_LOCK:"NumLock",SCROLL_LOCK:"ScrollLock",SEMICOLON:"Semicolon",COMMA:"Comma",PERIOD:"Period",SLASH:"Slash",BACK_QUOTE:"Backquote",OPEN_BRACKET:"BracketLeft",BACK_SLASH:"Backslash",CLOSE_BRACKET:"BracketRight",QUOTE:"Quote",UNIVERSAL_CONTROL:r.isMac?"Meta":"Control"},t.MOUSE={WHEEL_VERTICAL:"wheelVertical",WHEEL_HORIZONTAL:"wheelHorizontal"},t.ACTIONS={DELETE:"delete"},t.universalCtrl=r.isMac?t.KEYBOARD.META:t.KEYBOARD.CONTROL},90925:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(5163);r.__exportStar(o(20329),t),r.__exportStar(o(81588),t),r.__exportStar(o(31287),t)},81588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScopesService=void 0,t.ScopesService=class{constructor(){this.isolatedScope=!1}removeScope(e){this.scope===e&&(this.scope=void 0,this.isolatedScope=!1)}setScope(e,t={isIsolated:!1}){const{isIsolated:o}=t;this.scope=e,this.isolatedScope=null!=o&&o}getScope(){return this.scope}getIsolatedScope(){return this.isolatedScope}}},31287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9029:(e,t,o)=>{e.exports=o(10067)},5163:(e,t,o)=>{"use strict";o.r(t),o.d(t,{__assign:()=>i,__asyncDelegator:()=>O,__asyncGenerator:()=>E,__asyncValues:()=>w,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>M,__classPrivateFieldIn:()=>N,__classPrivateFieldSet:()=>D,__createBinding:()=>p,__decorate:()=>s,__exportStar:()=>h,__extends:()=>n,__generator:()=>d,__importDefault:()=>P,__importStar:()=>g,__makeTemplateObject:()=>A,__metadata:()=>u,__param:()=>a,__read:()=>v,__rest:()=>c,__spread:()=>y,__spreadArray:()=>_,__spreadArrays:()=>S,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},r(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var i=function(){return i=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};function c(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o}function s(e,t,o,r){var n,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,o,c):n(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c}function a(e,t){return function(o,r){t(o,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,o,r){return new(o||(o=Promise))((function(n,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,s)}a((r=r.apply(e,t||[])).next())}))}function d(e,t){var o,r,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((n=(n=c.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var p=Object.create?function(e,t,o,r){void 0===r&&(r=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,r,n)}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]};function h(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||p(t,e,o)}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],r=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return c}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function S(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<o;t++)for(var i=arguments[t],c=0,s=i.length;c<s;c++,n++)r[n]=i[c];return r}function _(e,t,o){if(o||2===arguments.length)for(var r,n=0,i=t.length;n<i;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function E(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=o.apply(e,t||[]),i=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(e){n[e]&&(r[e]=function(t){return new Promise((function(o,r){i.push([e,t,o,r])>1||s(e,t)}))})}function s(e,t){try{(o=n[e](t)).value instanceof b?Promise.resolve(o.value.v).then(a,u):l(i[0][2],o)}catch(e){l(i[0][3],e)}var o}function a(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function O(e){var t,o;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,n){t[r]=e[r]?function(t){return(o=!o)?{value:b(e[r](t)),done:"return"===r}:n?n(t):t}:n}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,o=e[Symbol.asyncIterator];return o?o.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(t){return new Promise((function(r,n){!function(e,t,o,r){Promise.resolve(r).then((function(t){e({value:t,done:o})}),t)}(r,n,(t=e[o](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var m=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&p(t,e,o);return m(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function M(e,t,o,r){if("a"===o&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?r:"a"===o?r.call(e):r?r.value:t.get(e)}function D(e,t,o,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,o):n?n.value=o:t.set(e,o),o}function N(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}}}]);