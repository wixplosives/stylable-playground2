"use strict";(self.webpackChunk_wixc3_stylable_playground_feature=self.webpackChunk_wixc3_stylable_playground_feature||[]).push([[7264],{21943:(e,t,s)=>{s.r(t),s.d(t,{classes:()=>n,cssStates:()=>a,keyframes:()=>o,namespace:()=>i,st:()=>l,stVars:()=>r,style:()=>u,vars:()=>M});const i="o109",n={root:"s355",codeEditorRoot:"s358",codeEditor:"s356",spinnerContainer:"s357"},o={},r={},M={},a=s.stc.bind(null,i),u=s.sts.bind(null,i),l=u},23144:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditorPanel=t.goToPositionOrHighlight=void 0;const i=s(5163).__importStar(s(87363)),n=s(10192),o=s(70268),r=s(7268),M=s(84161),a=s(21943),u=s(1921),l=s(83135),c=s(19266),g=new Map;function d(e,{startLineNumber:t,startColumn:s,endLineNumber:i,endColumn:n}){if(e.focus(),i&&n){const o={startLineNumber:t,startColumn:s,endLineNumber:i,endColumn:n};e.setSelection(o),e.revealRangeInCenter(o,1)}else{const i={lineNumber:t,column:s};e.setPosition(i),e.revealPositionInCenter(i,1)}}t.goToPositionOrHighlight=d,t.CodeEditorPanel=(0,i.memo)((function({filePath:e,className:t,onFileRedirect:s=c.navigateToCodeEditor,textModelStore:A,editorOptions:h,onEditorReady:D,errorView:j=null,loadingView:I=null,setCodeEditor:N,...w}){const m=(0,i.useRef)(null),C=(0,i.useRef)(),[T,y]=(0,i.useState)(!1),L=(0,l.useQueryParams)(["startColumn","startLineNumber","endLineNumber","endColumn"]),b=Number(L.startLineNumber),f=Number(L.startColumn),z=Number(L.endLineNumber),p=Number(L.endColumn),E=(0,r.useAsyncValue)((async()=>await A.getModel(e)),[A,e]),S=(0,n.useElementSizeBinding)(m,null!==C.current);(0,i.useEffect)((()=>{const t=e=>{y(e)};return(0,M.isAsyncStateResolved)(E)&&A.subscribe(t,e),()=>{(0,M.isAsyncStateResolved)(E)&&A.unsubscribe(t,e)}}),[E,e,A]),(0,i.useEffect)((()=>()=>{const t=C.current;if(t){const s=t.saveViewState();s&&g.set(e,s)}}),[e]),(0,i.useEffect)((()=>()=>{C.current&&C.current.dispose(),g.clear()}),[]),(0,i.useEffect)((()=>{C.current&&S&&C.current.layout(S)}),[C,S]),(0,i.useEffect)((()=>{if((0,M.isAsyncStateResolved)(E)){const e=E.value,s=m.current;s&&(C.current||(C.current=u.editor.create(s,{language:e.getLanguageId(),fixedOverflowWidgets:!0,extraEditorClassName:(0,a.style)(a.classes.codeEditorRoot,t),model:e,...h}),null==N||N(C.current)),C.current&&p&&z&&b&&f&&d(C.current,{endColumn:p,endLineNumber:z,startLineNumber:b,startColumn:f}),null==D||D())}}),[E,t,h,p,z,D,N,f,b]),(0,i.useEffect)((()=>{if(C.current&&(0,M.isAsyncStateResolved)(E)){const t=E.value;C.current.setModel(t);const s=g.get(e);s&&(C.current.restoreViewState(s),g.delete(e))}}),[E,e]),(0,i.useEffect)((()=>{(0,M.isAsyncStateResolved)(E)&&C.current&&(C.current._codeEditorService.openCodeEditor=({resource:t,options:i})=>{const n=null==i?void 0:i.selection;return n&&(t.path===e&&C.current?d(C.current,n):C.current&&s(t,n,C.current)),Promise.resolve(null)})}),[E,e,s]);const x=(0,i.useMemo)((()=>(0,M.isAsyncStateResolved)(E)?null:(0,M.isAsyncStateRejected)(E)?(0,M.evaluateWhenFunction)(j,e):(0,M.evaluateWhenFunction)(I,e)),[E,j,e,I]);return i.default.createElement("div",{className:a.classes.root},i.default.createElement("div",{className:a.classes.codeEditor,"data-code-editor":e,ref:m,...w},x),T?i.default.createElement("div",{className:a.classes.spinnerContainer},i.default.createElement(o.Spinner,null)):null)}))},2127:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoModelWrapper=t.MonacoTextModelManager=void 0;const i=s(1921),n=s(60814),o=s(91570),r=s(78197);t.MonacoTextModelManager=class{constructor(e,t,s){this.fileManager=e,this.monacoLanguages=t,this.fsResourceSyncer=s,this.models=new Map,this.subscribables=[],this.subscribers=[],this.revalidateModels=e=>{for(const t of this.models.values())(0,o.isTypeAffectingFileOrDir)((0,r.getModelPath)(t.model.uri))&&!e.find((e=>(0,o.isTypeAffectingFileOrDir)(e)))||this.monacoLanguages.revalidate(t.model)},s.subscribeToFs(this.revalidateModels)}async getModel(e){const t=await this.fileManager.getReady(e);if(this.models.has(e))return this.models.get(e).model;const s=this.monacoLanguages.getLanguageByPath(e),i=new M(e,s,t);return this.models.set(e,i),i.model}dispose(){for(const e of this.models.values())e.dispose();this.models.clear(),this.fsResourceSyncer.unsubscribeFromFs(this.revalidateModels);for(const[e]of this.subscribers.entries())this.subscribables[e].unsubscribe(this.subscribers[e])}undo(e){const t=this.models.get(e);t&&t.undo()}redo(e){const t=this.models.get(e);t&&t.redo()}subscribe(e,t){const s=this.models.get(t);s&&s.subscribe(e)}unsubscribe(e,t){const s=this.models.get(t);s&&s.unsubscribe(e)}async getActiveModel(e){let t=this.models.get(e);if(t||(await this.getModel(e),t=this.models.get(e)),!t)throw new Error("Code editor model not found");return t}};class M{constructor(e,t,s){this.filePath=e,this.resource=s,this.isInUndoRedo=!1,this.isInSourceChange=!1,this.isInEditChange=!1,this.changeFile=()=>{this.isInEditChange=!0;const e=n.stringManipulator.squasher(this.pendingChanges);0!==e.length&&(this.resource.applyChange(e[0]),this.text=this.resource.getLatest()),this.pendingChanges=[],this.snap=this.resource.createSnapshot(),this.isInEditChange=!1,this.notify(!1)},this.onModelChange=({changes:e})=>{this.isInSourceChange||(this.notify(!0),this.pendingChanges.push(...e.map((e=>{const t=e.rangeOffset,s=e.rangeLength+e.rangeOffset,i=this.resource.getLatest().slice(t,s);return(0,n.stringPartialChangeByValues)(i,e.text,t,s)})).filter(o.notNullish)),this.resourceUpdateTimer&&clearTimeout(this.resourceUpdateTimer),this.changeFile())},this.onSourceChange=()=>{if(this.isInEditChange)return;this.isInSourceChange=!0;const e=this.text,t=e.split("\n"),s=this.resource.createSnapshot(),r=this.resource.getChangesBetweenVersion(this.snap,s),M=n.stringManipulator.squasher(r);for(const s of M)if("full"===s.kind)this.model.pushStackElement(),this.model.pushEditOperations([],[{text:s.value,range:new i.Range(1,1,t.length,t[t.length-1].length+1)}],(()=>null)),this.model.pushStackElement();else if("partial"===s.kind){const r=(0,n.parseChangeMetadata)(s,e),M=[];for(const e of r.replacements){const s=(0,o.charPosToLinePos)(t,e.from),n=(0,o.charPosToLinePos)(t,e.from+e.length);M.push({text:e.newText,range:new i.Range(s.line+1,s.char+1,n.line+1,n.char+1)})}this.model.pushStackElement(),this.model.pushEditOperations([],M,(()=>null)),this.model.pushStackElement()}else this.model.applyEdits([{text:"",range:new i.Range(0,0,0,0)}]);this.snap.dispose(),this.snap=s,this.text=this.resource.getLatest(),this.isInSourceChange=!1};const r=this.resource.getLatest(),M=i.Uri.file(e),a=i.editor.getModel(M);this.model=null!==a?a:i.editor.createModel(r,t,M),this.resource.subscribe(this.onSourceChange),this.model.onDidChangeContent(this.onModelChange),this.snap=this.resource.createSnapshot(),this.text=this.resource.getLatest(),this.subscribers=(0,o.setupSubscribers)(),this.pendingChanges=[],this.resource.use(this)}dispose(){this.resource.unsubscribe(this.onSourceChange),this.model.dispose(),this.resource.release(this)}undo(){this.isInUndoRedo=!0,this.model.undo(),this.isInUndoRedo=!1}redo(){this.isInUndoRedo=!0,this.model.redo(),this.isInUndoRedo=!1}subscribe(e){this.subscribers.subscribe(e)}unsubscribe(e){this.subscribers.unsubscribe(e)}notify(e){this.subscribers.internals.notify(e)}}t.MonacoModelWrapper=M},78197:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectionByPosition=t.getModelPath=t.severityToMarkerSeverity=t.monacoRangeToOffsetRange=t.offsetRangeToMonacoRange=t.offsetToPosition=t.positionToOffset=void 0;const i=s(1921),n=s(91570),o=s(73654);function r(e,t){return e?e.getOffsetAt(t):0}function M(e,t){return e?e.getPositionAt(t):{column:0,lineNumber:0}}t.positionToOffset=r,t.offsetToPosition=M,t.offsetRangeToMonacoRange=function(e,t){const{lineNumber:s,column:n}=M(e,t.start),{lineNumber:o,column:r}=M(e,t.start+t.length);return new i.Range(s,n,o,r)},t.monacoRangeToOffsetRange=function(e,t){const s=r(e,{lineNumber:t.startLineNumber,column:t.startColumn});return{start:s,length:r(e,{lineNumber:t.endLineNumber,column:t.endColumn})-s}};const a={[n.DiagnosticSeverity.Hint]:i.MarkerSeverity.Hint,[n.DiagnosticSeverity.Info]:i.MarkerSeverity.Info,[n.DiagnosticSeverity.Warning]:i.MarkerSeverity.Warning,[n.DiagnosticSeverity.Error]:i.MarkerSeverity.Error};t.severityToMarkerSeverity=e=>a[e],t.getModelPath=e=>o.posix.isAbsolute(e.path)?/^[a-zA-Z]:/.test(e.fsPath)?i.Uri.parse(e.path).fsPath:e.path:e.fsPath,t.getSelectionByPosition=function(e,t){const s=e.text.split("\n"),i=(0,n.charPosToLinePos)(s,t.from),o=(0,n.charPosToLinePos)(s,t.from+t.length);return{startLineNumber:i.line+1,startColumn:i.char+1,endLineNumber:o.line+1,endColumn:o.char+1}}},19266:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToCodeEditor=void 0;const i=s(83135),n=s(45059),o=s(78197);t.navigateToCodeEditor=function(e,t){(0,i.navigateToPanel)({type:n.CODE_PANEL_PANEL_TYPE,props:{filePath:"string"==typeof e?e:(0,o.getModelPath)(e),startLineNumber:String(t.startLineNumber),startColumn:String(t.startColumn),endLineNumber:String(t.endLineNumber),endColumn:String(t.endColumn)}})}},94748:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII="},6161:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},51096:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="}}]);