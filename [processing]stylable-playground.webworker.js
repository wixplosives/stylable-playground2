(self.webpackChunk_wixc3_stylable_playground_feature=self.webpackChunk_wixc3_stylable_playground_feature||[]).push([[367,463],{98617:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=a(93849),r=n.__importDefault(a(20471)),s=n.__importDefault(a(93208));t.default=new i.Feature({id:"firebaseAuthUi",dependencies:[r.default.asEntity,s.default.asEntity],api:{firebaseAuthUiOptions:new i.Config({})}})},14029:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(98617);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},82983:(e,t,a)=>{e.exports=a(14029)},74853:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=a(93849),r=n.__importStar(a(2206)),s=n.__importDefault(a(20471)),o=n.__importDefault(a(93208));t.default=new i.Feature({id:"firebaseFsPersistency",dependencies:[r.default.asEntity,s.default.asEntity,o.default.asEntity],api:{firebaseFsServiceProcessing:i.Service.withType().defineEntity(r.processingEnv).allowRemoteAccess((0,i.declareComEmitter)("onFileSystemChange","removeFileSystemChangeHandler"))}})},21479:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(74853);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},82039:(e,t,a)=>{e.exports=a(21479)},94703:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=a(93849),r=a(5689),s=n.__importDefault(a(93208)),o=a(9011);t.default=new i.Feature({id:"firebasePersistency",dependencies:[s.default.asEntity],api:{firebasePersistencyServiceOptions:new i.Config({rootCollectionId:"projects",testingMode:!1}),firebaseConfig:new i.Config(o.firebaseConfig),firebasePersistencyService:i.Service.withType().defineEntity(r.mainEnv),firebaseAuthService:i.Service.withType().defineEntity(r.mainEnv),firebaseCloneHandlers:i.Slot.withType().defineEntity(r.mainEnv)}})},70537:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(94703);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},9011:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firebaseConfig=void 0,t.firebaseConfig={apiKey:"AIzaSyD-IS7lkB3o9GioLGayvTlOAgl2EFQnKrY",authDomain:"localhost",projectId:"demo-project",storageBucket:"core3-firebase-9b327.appspot.com",messagingSenderId:"491604166384",appId:"1:491604166384:web:fb676c56b4fdb306bd6435"}},20471:(e,t,a)=>{e.exports=a(70537)},71299:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileResource=void 0;const n=a(60814),i=a(78204);class r extends n.Resource{delete(){this.invalidate(i.FILE_RESOURCE_DELETE_MESSAGE)}restoreDeleted(){this.setStatus({valid:!0})}isDeleted(){return!this.isValid()&&this.getInvalidationMessage()===i.FILE_RESOURCE_DELETE_MESSAGE}}t.FileResource=r},93673:(e,t,a)=>{e.exports=a(26427)},26904:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=a(5163);var i=a(59320);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(i).default}}),n.__exportStar(a(59320),t)},59320:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simulationElementRects=t.simulationPreviewDataManager=t.EXCLUDE_EDITING_TRANSFOTMERS_QUERY_FLAG=t.previewEnv=void 0;const n=a(5163),i=a(93849),r=n.__importStar(a(32510)),s=a(5689),o=n.__importStar(a(93104)),l=n.__importDefault(a(25447)),u=n.__importDefault(a(93208)),d=n.__importDefault(a(1529)),c=n.__importStar(a(2206)),f=n.__importDefault(a(93673)),p=n.__importDefault(a(44479));t.previewEnv=new i.Environment("preview","iframe","multi",[o.codeExecutionRenderer]),t.EXCLUDE_EDITING_TRANSFOTMERS_QUERY_FLAG="excludeEditingTransformers";const m=i.Service.withType().defineEntity(t.previewEnv),y=(0,r.defineTwoWayResource)().defineEntity(s.mainEnv);t.simulationPreviewDataManager=(0,r.defineOneWayResource)().defineEntity(c.processingEnv),t.simulationElementRects=(0,r.defineOneWayResource)().defineEntity(t.previewEnv),t.default=new i.Feature({id:"simulationPreview",dependencies:[o.default.asEntity,i.COM.asEntity,u.default.asEntity,c.default.asEntity,l.default.asEntity,r.default.asEntity,f.default.asEntity,d.default.asEntity,p.default.asEntity],api:{simulationWindowController:m.allowRemoteAccess((0,i.declareComEmitter)("addCanvasIsEmptyListener","removeCanvasIsEmptyListener")),localSimulationWindowController:m,previewController:i.Service.withType().defineEntity(t.previewEnv).allowRemoteAccess((0,i.declareComEmitter)("subscribe","unsubscribe")),previewRenderers:i.MapSlot.withType().defineEntity(t.previewEnv),demoErrorManager:f.default.api.demoErrorManager.defineConsumer(t.previewEnv),consoleResourceManager:y,consoleResourceManagerPreview:y.defineConsumer(t.previewEnv),previewConfiguration:c.default.api.pluggableProjectConfig.entry({environmentVariables:{}},"previewConfiguration"),globalPreviewData:i.Slot.withType().defineEntity(c.processingEnv),simulationElementRects:t.simulationElementRects,simulationPreviewDataManager:t.simulationPreviewDataManager}})},64578:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=a(93849),r=n.__importDefault(a(45059)),s=n.__importDefault(a(33142)),o=n.__importDefault(a(7959)),l=n.__importDefault(a(23719)),u=n.__importDefault(a(18380)),d=n.__importStar(a(43934)),c=n.__importDefault(a(2618)),f=n.__importStar(a(30383)),p=n.__importDefault(a(32562)),m=n.__importDefault(a(97569)),y=n.__importDefault(a(26904)),_=n.__importDefault(a(20471)),v=n.__importDefault(a(82039)),E=n.__importDefault(a(82983)),g=a(32510),b=(0,g.defineComputedResource)().defineEntity(d.processingEnv);t.default=new i.Feature({id:"stylable-playground",dependencies:[r.default.asEntity,s.default.asEntity,m.default.asEntity,o.default.asEntity,u.default.asEntity,_.default.asEntity,v.default.asEntity,E.default.asEntity,l.default.asEntity,d.default.asEntity,c.default.asEntity,y.default.asEntity,f.StylableCompiler.asEntity,f.default.asEntity,f.StylableLanguageService.asEntity,p.default.asEntity],api:{compiled:b,stylablePlaygroundOptions:new i.Config({key:"default value"}),stylableMetaManager:(0,g.defineComputedResource)().defineEntity(d.processingEnv)}})},25879:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=a(38964),r=a(60814),s=a(2206),o=a(71299),l=n.__importDefault(a(64578)),u=a(73654),d=a(47325);l.default.setup(s.processingEnv,(({run:e,compiled:t,stylableMetaManager:a},{compilation:{compiledFilesManager:n},project:{fileManager:s,projectService:l,virtualFs:c},stylableLanguageService:{stylable:f},fileAssets:{assets:p,fileTaggerSlots:m}})=>{m.register({isApplicableToFile:e=>e.endsWith(".st.css"),tags:["stylable"]}),e((()=>{const e=p.get(l.getProjectPath()),t=new Map,a=()=>{const a=e.getFilesWithTag("stylable");for(const e of a){if(t.has(e))continue;const a=s.get(e),n=()=>{const t="/st-types"+e;if(a.isDeleted())c.rmSync(t+".d.ts");else if(a.isValid()){const{meta:n,exports:r}=f.transform(a.getLatest(),e),s=(0,i.generateDTSContent)({exports:r,meta:n});c.ensureDirectorySync((0,u.dirname)(t)),c.writeFileSync(t+".d.ts",s)}};t.set(e,n),n(),a.subscribe(n)}};a(),e.subscribe(a)}));const y=e=>{try{f.initCache();const[t,a]=decodeURIComponent(e).split("$");if(!t||!a||"undefined"===a)return{value:"",dependencies:new Set([])};const{meta:n}=f.transform(s.get(a).getLatest(),a),i=f.resolver.resolveSymbols(n,new d.Diagnostics),r={},o={};for(const[e,t]of Object.entries(i.class)){const a=t.find((e=>e.symbol["-st-extends"]))||t[t.length-1],n={transformed:f.transformSelector(a.meta,`.${a.symbol.name}`).selector,definition:{name:a.symbol.name,path:a.meta.source}};r[e]=n}for(const[e,t]of Object.entries(i.element)){const a=t.find((e=>e.symbol["-st-extends"]))||t[t.length-1],n={transformed:f.transformSelector(a.meta,`.${a.symbol.name}`).selector,definition:{name:a.symbol.name,path:a.meta.source}};o[e]=n}const l={};for(const[e,t]of Object.entries(i.cssVar))l[e]={transformed:f.transformCustomProperty(t.meta,t.symbol.name),definition:{name:t.symbol.name,path:t.meta.source}};const u={},c=f.stVar.getComputed(n);for(const[e,t]of Object.entries(c)){const a=i.var[e];u[e]={transformed:t.value,definition:{name:a.symbol.name,path:a.meta.source}}}const p={};for(const[e,t]of Object.entries(i.keyframes)){const a={transformed:f.transformSelector(t.meta,`.${t.symbol.name}`).selector.slice(1),definition:{name:t.symbol.name,path:t.meta.source}};p[e]=a}const m=[];for(const e of n.getImportStatements()){const t={from:e.from};e.defaultExport&&(t.default=e.defaultExport),Object.keys(e.named).length&&(t.named=e.named),m.push(t)}const y=s.get(a);return{value:JSON.stringify({classes:r,elements:o,customProperties:l,stVars:u,keyframes:p,imports:m},null,2),dependencies:new Set([y])}}catch{return{value:"",changes:[],dependencies:new Set([]),status:{valid:!1,message:"failed to generate Stylable meta"}}}},_=a.provide({dependencies:[s],resourceConstructor:o.FileResource,manipulator:r.stringManipulator,handler:{compute:y,recompute:(e,t,a,n)=>{try{const t=y(e.getId());return{changes:[(0,r.fullChange)(t.value)],dependencies:t.dependencies,status:{valid:!0}}}catch{return{value:"",changes:[],dependencies:new Set([]),status:{valid:!1,message:"failed to generate Stylable meta"}}}}}}),v=async e=>{try{const[t,a]=decodeURIComponent(e).split("$"),i=await n.getReady({filePath:a,outputLang:t});return{value:i.getLatest(),dependencies:new Set([i])}}catch{return{value:"",changes:[],dependencies:new Set([]),status:{valid:!1,message:"failed to generate Stylable meta"}}}};return{compiled:t.provide({dependencies:[n],resourceConstructor:o.FileResource,manipulator:r.stringManipulator,handler:{compute:v,recompute:async e=>{try{const t=await v(e.getId());return{dependencies:t.dependencies,changes:[(0,r.fullChange)(t.value)],status:{valid:!0}}}catch{return{changes:[],dependencies:new Set([]),status:{valid:!1,message:"failed to generate Stylable meta"}}}}}}),stylableMetaManager:_}}))},72334:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StylableCompiler=t.StylableLanguageService=t.default=void 0;const n=a(5163);var i=a(70286);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(i).default}});var r=a(13427);Object.defineProperty(t,"StylableLanguageService",{enumerable:!0,get:function(){return n.__importDefault(r).default}}),n.__exportStar(a(70286),t);var s=a(84081);Object.defineProperty(t,"StylableCompiler",{enumerable:!0,get:function(){return n.__importDefault(s).default}})},84081:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=a(93849),r=a(2206),s=n.__importDefault(a(25447)),o=n.__importDefault(a(93104)),l=n.__importDefault(a(70286));t.default=new i.Feature({id:"stylableCompiler",dependencies:[l.default.asEntity,s.default.asEntity,o.default.asEntity],api:{onProcessSlot:i.Slot.withType().defineEntity(r.processingEnv)}})},13427:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=a(93849),r=n.__importStar(a(2206)),s=n.__importDefault(a(83341)),o=n.__importDefault(a(70286));t.default=new i.Feature({id:"stylableLanguageService",dependencies:[r.default.asEntity,s.default.asEntity,o.default.asEntity],api:{stylable:i.Service.withType().defineEntity(r.processingEnv)}})},70286:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(5163),i=n.__importStar(a(2206)),r=n.__importDefault(a(82026)),s=a(93849);t.default=new s.Feature({id:"stylable",dependencies:[i.default.asEntity,r.default.asEntity],api:{createStylable:s.Service.withType().defineEntity(i.processingEnv),createCalcDepthContext:s.Service.withType().defineEntity(i.processingEnv)}})},30383:(e,t,a)=>{e.exports=a(72334)},48150:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=a(5163);n.__exportStar(a(17166),t);var i=a(17166);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.__importDefault(i).default}})},89111:(e,t,a)=>{e.exports=a(48150)},91768:()=>{},70764:()=>{},45158:()=>{},58635:()=>{},30139:()=>{},63653:()=>{}}]);