"use strict";(self.webpackChunk_wixc3_stylable_playground_feature=self.webpackChunk_wixc3_stylable_playground_feature||[]).push([[2756],{30896:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,a)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(87770),t),a(r(4416),t),a(r(82251),t),a(r(26408),t),a(r(38896),t),a(r(60183),t),a(r(67896),t),a(r(43554),t)},4416:function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewComposable=t.TreeViewContext=void 0;const a=i(r(87363)),n=r(60183),o=r(38819),s=r(38896);t.TreeViewContext=a.default.createContext(null);class l extends a.default.Component{constructor(){super(...arguments),this.listView=a.default.createRef(),this.stateController=void 0,this.listViewKeyboardHandler=(e,t)=>{let r=!1;return this.updateState((i=>{const a=t.key,n=i.getCurrentItemId(),o=null!==n?this.getTreeViewItemMetadata(n):null;if(null!==n&&!t.ctrlKey&&!t.shiftKey)if("ArrowRight"===a){if(null!==o&&o.hasChildren&&!o.isExpanded)i.toggleExpanded(n,!0);else if(i.moveNext(),e.isSupportingSelection()){const e=i.getCurrentItemId();null!==e&&i.canSelectItem(e)?i.selectItem(e):i.clearSelection()}r=!0}else if("ArrowLeft"===a){if(null!==o&&o.isExpanded&&o.hasChildren)i.toggleExpanded(n,!1);else{const t=i.findEnabledAncestorNode(n);if(t){if(i.setCurrentItemId(t.id),e.isSupportingSelection()){const e=i.getCurrentItemId();null!==e&&i.canSelectItem(e)?i.selectItem(e):i.clearSelection()}}else i.movePrev()}r=!0}}),o.StateUpdateReason.KeyboardNavigation),r},this.onListViewChange=e=>{const{treeViewState:t}=this.props,{toggledItemsIds:r}=t;this.props.onChange({toggledItemsIds:r,...e})}}render(){const{dataSourcesArray:e,treeViewState:r,onChange:i,toggledTreeViewItemState:n,...s}=this.props,{toggledItemsIds:l,...d}=r,u={treeView:this};return this.stateController=void 0,a.default.createElement(t.TreeViewContext.Provider,{value:u},a.default.createElement(o.ListViewComposable,{ref:this.listView,dataSourcesArray:e,orientation:o.NavigationOrientation.Vertical,keyboardHandler:this.listViewKeyboardHandler,onChange:this.onListViewChange,listViewState:d,...s},this.props.children))}getDataItemById(e){return this.withListViewComposable((t=>t.getDataItemById(e)))}getListViewItemById(e){return this.withListViewComposable((t=>t.getListViewItemById(e)))}getOrderedListViewItemsIds(){return this.withListViewComposable((e=>e.getOrderedListViewItemsIds()))}getId(){return this.withListViewComposable((e=>e.getId()))}getRootElement(){return this.withListViewComposable((e=>e.getRootElement()))}getListViewState(){return this.getTreeViewState()}getSelectionType(){return this.props.selectionType}getTreeViewState(){return this.props.treeViewState}updateState(e,t=o.StateUpdateReason.Manual){const r=this.listView.current;if(r){let i=this.stateController;if(i||(i=this.stateController=new s.TreeViewStateController(this,r)),e(i),i.hasStateChanged()){const e=i.getCurrentState();this.onListViewChange(e);const r=this.props.onCurrentItemChange;return r&&i.hasCurrentChanged()&&r({itemsList:this,currentItemId:e.currentNavigatableItemId,triggeringAction:t}),!0}}return!1}withListViewComposable(e){const t=this.listView.current;if(t)return e(t);throw new Error("method should be called only after rendering")}findItemIndex(e){return this.withListViewComposable((t=>t.findItemIndex(e)))}handleItemPointerInteraction(e,t){this.updateState((r=>{r.handleInteractiveSelection(e,t)}),o.StateUpdateReason.PointerInteraction)}focus(){(0,o.focusListView)(this)}getItemsElements(){return this.withListViewComposable((e=>e.getItemsElements()))}getDataSourceItemsArray(){return this.withListViewComposable((e=>e.getListViewItemsArray()))}handleKeyboardEvent(e){const t=this.listView.current;t&&t.handleKeyboardEvent(e)}moveToNextSearchMatchingItem(e,t){const r=this.listView.current;r&&r.moveToNextSearchMatchingItem(e,t)}getTreeViewItemMetadata(e){const t=this.listView.current;if(t){const r=t.getListViewItemById(e);if(r){const{dataItem:e,...t}=r,{treeNodeDataItem:i,...a}=e;return{...t,...a}}}return null}isExpanded(e){const t=this.getTreeViewItemMetadata(e);return!!t&&t.isExpanded}isCollapsed(e){return!this.isExpanded(e)}static flattenTreeDataSource(e,t,r=n.ToggledTreeViewItemState.Collapsed){const i=[],a=t instanceof Set?t:new Set(t);for(const t of e)d(t,a,r,!1,null,0,i);return i}}function d(e,t,r,i,a,s,l){const u=e.id,c=e.children,h=!!c&&c.length>0,m=t.has(u),w=r===n.ToggledTreeViewItemState.Expanded?m:!m;if(l.push({dataItem:{treeNodeDataItem:e.dataItem,parentNodeId:a,isExpanded:w,level:s,hasChildren:h},id:u,typeAheadText:e.typeAheadText,isSelectable:(0,o.listViewDataItemIsSelectable)(e),isDisabled:e.isDisabled,isExcluded:i}),c)for(const e of c)d(e,t,r,i||!w,u,s+1,l)}t.TreeViewComposable=l,l.defaultProps={...o.DefaultCommonListViewProps,onChange:()=>{}}},67896:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewDataSource=void 0;const i=r(84161);function a(e,t){return t.index}function n(){}t.TreeViewDataSource=class{constructor(){}static createTreeViewDataSource(e,t){const{childrenResolver:r,dataItemSelector:o,isSelectable:s=!0,isExcluded:l=!1,isDisabled:d=!1,idFunction:u=a,typeAheadTextFunction:c=n}=t;return i.TreeWalker.mapNodes(e,{childrenResolver:r,mappingFunction:(e,t)=>{const r=o(e),i="boolean"==typeof s?s:s(e,t),a="boolean"==typeof l?l:l(e,t),n="boolean"==typeof d?d:d(e,t);return{id:u(e,t),dataItem:r,typeAheadText:c?c(e,t):void 0,isSelectable:i,children:void 0,isExcluded:a,isDisabled:n}},childrenSetter:(e,t)=>{e.children=t}})}}},43554:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewDOM=void 0;const i=r(38819);class a{static resolveTreeViewItemRootAttributes(e){return i.ListViewDOM.resolveListViewItemRootAttributes(e)}static resolveInnerFocusableItemAttributes(e,t=!1){return i.ListViewDOM.resolveInnerFocusableItemAttributes(e,t)}static getDataItemFromTreeViewEvent(e){const t=a.getTreeViewNodeFromTreeViewEvent(e);return t?t.treeNodeDataItem:void 0}static getTreeViewNodeFromTreeViewEvent(e){return i.ListViewDOM.getDataItemFromListViewEvent(e)}static createTreeViewNodeKeyboardEventHandler(e,t){return a.createTreeViewNodeEventHandler(e,t)}static createTreeViewNodeMouseEventHandler(e,t){return a.createTreeViewNodeEventHandler(e,t)}static createTreeViewNodeEventHandler(e,t={}){return i.ListViewDOM.createListViewItemEventHandler((t=>{const r=t.dataItem;e({event:t.event,treeViewNode:r,dataItem:r.treeNodeDataItem,treeViewItem:t.listViewItem,dataItemId:t.dataItemId})}),t)}static delegateKeyboardNavigationEvent(e,t,r={enableSelectionDelegation:!0}){return i.ListViewDOM.delegateKeyboardNavigationEvent(e,t,r)}}t.TreeViewDOM=a},82251:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewItemRoot=void 0;var i=r(38819);Object.defineProperty(t,"TreeViewItemRoot",{enumerable:!0,get:function(){return i.ListViewItemRoot}})},26408:function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewItemsView=t.DefaultTreeViewItemViewProps=void 0;const a=i(r(87363)),n=r(38819),o=r(4416),s=r(72918);t.DefaultTreeViewItemViewProps={dataItemEqualityComparer:n.defaultDataItemsEqualityComparer};class l extends a.default.Component{constructor(){super(...arguments),this.listViewItemsViewDataItemEqualityComparer=(e,t)=>this.props.dataItemEqualityComparer(e.treeNodeDataItem,t.treeNodeDataItem)&&e.level===t.level&&e.isExpanded===t.isExpanded&&e.hasChildren===t.hasChildren}render(){const{dataSource:e,renderItem:t}=this.props;return a.default.createElement(o.TreeViewContext.Consumer,null,(r=>r?a.default.createElement(n.ListViewItemsView,{dataSource:e,dataItemEqualityComparer:this.listViewItemsViewDataItemEqualityComparer,renderItem:e=>{const{dataItem:i,dataItemId:o,listView:l,...d}=e,{treeNodeDataItem:u,...c}=i,h=r.treeView,m={dataItemId:o,dataItem:u,listView:h,treeView:h,...c,...d};return a.default.createElement(n.ListViewItemContext.Provider,{value:m},a.default.createElement(s.ComponentSlotRenderer,{providedComponent:t,props:m}))}}):null))}}t.TreeViewItemsView=l,l.defaultProps=t.DefaultTreeViewItemViewProps},38896:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewStateController=void 0;const i=r(60183),a=r(38819),n=r(84161);class o extends a.ListViewStateController{constructor(e,t){super(t),this.treeView=e;const{toggledItemsIds:r}=e.props.treeViewState;this.originalTreeViewState=this.currentTreeViewState={toggledItemsIds:r}}getCurrentState(){return{...super.getCurrentState(),...this.currentTreeViewState}}hasStateChanged(){if(this.isDirty){if(super.hasStateChanged())return!0;const{toggledItemsIds:e}=this.originalTreeViewState,{toggledItemsIds:t}=this.currentTreeViewState;return!(0,n.arrayEqual)(t,e)}return!1}setCurrentTreeViewStateState(e){this.currentTreeViewState=e,this.isDirty=!0}toggleExpanded(e,t){const{toggledItemsIds:r}=this.currentTreeViewState,a=this.treeView;void 0===t&&(t=!a.isExpanded(e));const o=a.props.toggledTreeViewItemState,s=(0,n.arrayClone)(r),l=s.indexOf(e);l>=0?t!==(o===i.ToggledTreeViewItemState.Expanded)&&s.splice(l,1):t===(o===i.ToggledTreeViewItemState.Expanded)&&s.push(e),this.setCurrentTreeViewStateState({toggledItemsIds:s})}findEnabledAncestorNode(e){const t=this.treeView;let r=t.getTreeViewItemMetadata(e);for(;r;){const e=r.parentNodeId;if(r=e?t.getTreeViewItemMetadata(e):null,r&&!this.isItemDisabled(r.id))return r}return null}}t.TreeViewStateController=o},60183:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewDefaultState=t.ToggledTreeViewItemState=void 0;const i=r(38819);var a;(a=t.ToggledTreeViewItemState||(t.ToggledTreeViewItemState={}))[a.Collapsed=0]="Collapsed",a[a.Expanded=1]="Expanded",t.TreeViewDefaultState={toggledItemsIds:[],...i.ListViewDefaultState}},87770:function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=t.TreeViewSlots=void 0;const a=i(r(87363)),n=r(26408),o=r(4416),s=i(r(36631)),l=r(38819),d=r(60183),u=r(84161),c=r(72918);t.TreeViewSlots={renderItem:()=>c.ComponentSlot.createProvider()};class h extends a.default.Component{constructor(e){super(e),this.treeViewComposable=a.default.createRef(),this.createFlattenTreeDataSource=(0,s.default)(((e,t,r)=>o.TreeViewComposable.flattenTreeDataSource(e,t,r))),this.onTreeViewComposableStateChange=e=>{this.isControlled||this.setState({treeViewState:e});const t=this.props.onChange;t&&t(e)};const t=this.isControlled=void 0!==e.treeViewState,r=e.defaultTreeViewState;t&&r&&console.warn("When TreeView is controlled, defaultListViewState property is redundant"),t&&!e.onChange&&console.warn("When TreeView is controlled you should provide an onChange callback"),this.state={treeViewState:r||d.TreeViewDefaultState}}render(){const{toggledTreeViewItemState:e,children:t,renderItem:r,dataItemEqualityComparer:i,onChange:s,treeViewState:d,defaultTreeViewState:u,...c}=this.props,h=this.getTreeViewState(),{toggledItemsIds:m}=h,w=this.createFlattenTreeDataSource(t,m,e),p=(0,l.groupDataSourceDataItems)(w).map((e=>Array.isArray(e)?a.default.createElement(n.TreeViewItemsView,{dataSource:e,renderItem:r,dataItemEqualityComparer:i}):e));return a.default.createElement.apply(this,[o.TreeViewComposable,{ref:this.treeViewComposable,dataSourcesArray:[w],treeViewState:h,toggledTreeViewItemState:e,...c,onChange:this.onTreeViewComposableStateChange},...p])}withTreeViewComposable(e){const t=this.treeViewComposable.current;if(t)return e(t);throw new Error("method should be called only after rendering")}handleItemPointerInteraction(e,t){this.withTreeViewComposable((r=>r.handleItemPointerInteraction(e,t)))}findItemIndex(e){return this.withTreeViewComposable((t=>t.findItemIndex(e)))}getItemsElements(){return this.withTreeViewComposable((e=>e.getItemsElements()))}getCurrentDataItem(){const e=this.getCurrentDataSourceItem();return void 0!==e?e.dataItem.treeNodeDataItem:void 0}getCurrentDataSourceItem(){const e=this.getListViewState().currentNavigatableItemId;return null!==e?this.getDataSourceItemById(e):void 0}getDataSourceItemById(e){return(0,u.arrayFindValue)(this.getDataSourceItemsArray(),(t=>t.id===e))}getDataSourceItemsArray(){return this.withTreeViewComposable((e=>e.getDataSourceItemsArray()))}focus(){(0,l.focusListView)(this)}handleKeyboardEvent(e){const t=this.treeViewComposable.current;t&&t.handleKeyboardEvent(e)}moveToNextSearchMatchingItem(e,t){const r=this.treeViewComposable.current;r&&r.moveToNextSearchMatchingItem(e,t)}getDataItemById(e){return this.withTreeViewComposable((t=>t.getDataItemById(e)))}getListViewItemById(e){return this.withTreeViewComposable((t=>t.getListViewItemById(e)))}getOrderedListViewItemsIds(){return this.withTreeViewComposable((e=>e.getOrderedListViewItemsIds()))}getId(){return this.withTreeViewComposable((e=>e.getId()))}getRootElement(){return this.withTreeViewComposable((e=>e.getRootElement()))}getListViewState(){return this.getTreeViewState()}getSelectionType(){return this.props.selectionType}getTreeViewState(){return this.isControlled?this.props.treeViewState:this.state.treeViewState}updateState(e,t=l.StateUpdateReason.Manual){return this.withTreeViewComposable((r=>r.updateState(e,t)))}}t.TreeView=h,h.defaultProps={toggledTreeViewItemState:d.ToggledTreeViewItemState.Collapsed,...l.DefaultCommonListViewProps,...n.DefaultTreeViewItemViewProps},h.slots=t.TreeViewSlots},75300:(e,t,r)=>{function i(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function a(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function n(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return a(r.overflowY,t)||a(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function o(e,t,r,i,a,n,o,s){return n<e&&o>t||n>e&&o<t?0:n<=e&&s<=r||o>=t&&s>=r?n-e-i:o>t&&s<r||n<e&&s>r?o-t+a:0}function s(e,t){var r=window,a=t.scrollMode,s=t.block,l=t.inline,d=t.boundary,u=t.skipOverflowHiddenElements,c="function"==typeof d?d:function(e){return e!==d};if(!i(e))throw new TypeError("Invalid target");for(var h=document.scrollingElement||document.documentElement,m=[],w=e;i(w)&&c(w);){if((w=w.parentElement)===h){m.push(w);break}null!=w&&w===document.body&&n(w)&&!n(document.documentElement)||null!=w&&n(w,u)&&m.push(w)}for(var p=r.visualViewport?r.visualViewport.width:innerWidth,I=r.visualViewport?r.visualViewport.height:innerHeight,V=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,f=e.getBoundingClientRect(),S=f.height,T=f.width,C=f.top,b=f.right,v=f.bottom,y=f.left,E="start"===s||"nearest"===s?C:"end"===s?v:C+S/2,D="center"===l?y+T/2:"end"===l?b:y,x=[],L=0;L<m.length;L++){var _=m[L],M=_.getBoundingClientRect(),O=M.height,N=M.width,P=M.top,A=M.right,R=M.bottom,H=M.left;if("if-needed"===a&&C>=0&&y>=0&&v<=I&&b<=p&&C>=P&&v<=R&&y>=H&&b<=A)return x;var j=getComputedStyle(_),B=parseInt(j.borderLeftWidth,10),W=parseInt(j.borderTopWidth,10),k=parseInt(j.borderRightWidth,10),F=parseInt(j.borderBottomWidth,10),K=0,q=0,U="offsetWidth"in _?_.offsetWidth-_.clientWidth-B-k:0,X="offsetHeight"in _?_.offsetHeight-_.clientHeight-W-F:0;if(h===_)K="start"===s?E:"end"===s?E-I:"nearest"===s?o(g,g+I,I,W,F,g+E,g+E+S,S):E-I/2,q="start"===l?D:"center"===l?D-p/2:"end"===l?D-p:o(V,V+p,p,B,k,V+D,V+D+T,T),K=Math.max(0,K+g),q=Math.max(0,q+V);else{K="start"===s?E-P-W:"end"===s?E-R+F+X:"nearest"===s?o(P,R,O,W,F+X,E,E+S,S):E-(P+O/2)+X/2,q="start"===l?D-H-B:"center"===l?D-(H+N/2)+U/2:"end"===l?D-A+k+U:o(H,A,N,B,k+U,D,D+T,T);var Y=_.scrollLeft,z=_.scrollTop;E+=z-(K=Math.max(0,Math.min(z+K,_.scrollHeight-O+X))),D+=Y-(q=Math.max(0,Math.min(Y+q,_.scrollWidth-N+U)))}x.push({el:_,top:K,left:q})}return x}function l(e){return e===Object(e)&&0!==Object.keys(e).length}r.r(t),r.d(t,{default:()=>d});const d=function(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(r?s(e,t):[]);if(r){var i=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var i=e.el,a=e.top,n=e.left;i.scroll&&r?i.scroll({top:a,left:n,behavior:t}):(i.scrollTop=a,i.scrollLeft=n)}))}(s(e,i),i.behavior)}}}}]);