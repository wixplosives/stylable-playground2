(self.webpackChunk_wixc3_stylable_playground_feature=self.webpackChunk_wixc3_stylable_playground_feature||[]).push([[3581],{68941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;const i=n(5163),s=n(93849),a=i.__importStar(n(2206));t.default=new s.Feature({id:"gitCommands",dependencies:[a.default.asEntity],api:{gitCommandsService:s.Service.withType().defineEntity(a.processingEnv).allowRemoteAccess((0,s.declareComEmitter)("subscribe","unsubscribe")),gitUtilsService:s.Service.withType().defineEntity(a.processingEnv).allowRemoteAccess()},context:{gitCommandsContext:a.processingEnv.withContext()}}),t.Context=a.processingEnv.useContext("live-server")},54718:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(68941);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(s).default}})},35784:(e,t,n)=>{e.exports=n(54718)},20137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163),s=n(93849),a=n(32510),r=i.__importDefault(n(35784)),o=i.__importStar(n(2206)),c=n(5689),u=(0,a.defineOneWayResource)().defineEntity(o.processingEnv),g=(0,a.defineOneWayResource)().defineEntity(o.processingEnv),l=(0,a.defineComputedResource)().defineEntity(o.processingEnv),d=(0,a.defineOneWayResource)().defineEntity(o.processingEnv),p=(0,a.defineOneWayResource)().defineEntity(o.processingEnv),f=(0,a.defineOneWayResource)().defineEntity(o.processingEnv),h=(0,a.defineComputedResource)().defineEntity(o.processingEnv);t.default=new s.Feature({id:"gitRevision",dependencies:[o.default.asEntity,r.default.asEntity],api:{gitService:s.Service.withType().defineEntity(o.processingEnv).allowRemoteAccess(),gitDetector:s.Service.withType().defineEntity(o.processingEnv).allowRemoteAccess(),gitFetcher:s.Service.withType().defineEntity(o.processingEnv).allowRemoteAccess(),gitFetcherOption:new s.Config({fetchInterval:6e5,enabled:!0}),gitSyncRepoService:s.Service.withType().defineEntity(o.processingEnv).allowRemoteAccess(),gitHeadResourceManager:u,gitHeadResourceManagerMain:u.defineConsumer(c.mainEnv),gitRepoStatusResourceManager:g,gitRepoStatusResourceManagerMain:g.defineConsumer(c.mainEnv),gitFileStatusResourceManager:l,gitFileStatusResourceManagerMain:l.defineConsumer(c.mainEnv),gitBranchListResourceManager:d,gitBranchListResourceManagerMain:d.defineConsumer(c.mainEnv),gitMergeStateResourceManager:p,gitMergeStateResourceManagerMain:p.defineConsumer(c.mainEnv),gitSyncRepoResourceManager:f,gitSyncRepoResourceManagerMain:f.defineConsumer(c.mainEnv),gitTrackingBranchResourceManager:h,gitTrackingBranchResourceManagerMain:h.defineConsumer(c.mainEnv),gitConflictsService:s.Service.withType().defineEntity(o.processingEnv).allowRemoteAccess(),gitEventEmitter:s.Service.withType().defineEntity(o.processingEnv),gitMonitoringService:s.Service.withType().defineEntity(o.processingEnv).allowRemoteAccess()}})},67671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5163).__importDefault(n(20137)),s=n(5689),a=n(93849),r=n(49136);i.default.setup(s.mainEnv,(({gitFileStatusResourceManager:e,gitHeadResourceManager:t,gitRepoStatusResourceManager:n,gitBranchListResourceManager:i,gitMergeStateResourceManager:s,gitSyncRepoResourceManager:o,gitTrackingBranchResourceManager:c,gitFetcher:u,gitMonitoringService:g,run:l,onDispose:d})=>{const p=e.consume({}),f=t.consume({}),h=n.consume({}),v=i.consume({}),y=s.consume({}),R=c.consume({}),M=o.consume({resourceConstructor:r.GitSyncRepoResource}),m=()=>{u.stopAutoFetch()},E=()=>{u.startAutoFetch()};return window.addEventListener("blur",m),window.addEventListener("focus",E),d((()=>{window.removeEventListener("blur",m),window.removeEventListener("focus",E)})),l((()=>{g.start().catch(a.reportError)})),{gitHeadResourceManagerMain:f,gitRepoStatusResourceManagerMain:h,gitFileStatusResourceManagerMain:p,gitBranchListResourceManagerMain:v,gitMergeStateResourceManagerMain:y,gitSyncRepoResourceManagerMain:M,gitTrackingBranchResourceManagerMain:R}}))},49136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitSyncRepoResource=t.gitSyncRepoDefaultValue=void 0;const i=n(60814);t.gitSyncRepoDefaultValue={isFetching:!1,isPulling:!1,isPushing:!1,fetchFailed:!1};class s extends i.Resource{startFetching(){this.applyChange((0,i.fullChange)({...this.getLatest(),isFetching:!0,fetchFailed:!1}))}doneFetching(){this.applyChange((0,i.fullChange)({...this.getLatest(),isFetching:!1,lastFetch:(new Date).getTime(),fetchFailed:!1}))}fetchingFailed(){this.applyChange((0,i.fullChange)({...this.getLatest(),isFetching:!1,fetchFailed:!0}))}startPulling(){this.applyChange((0,i.fullChange)({...this.getLatest(),isPulling:!0}))}donePulling(){this.applyChange((0,i.fullChange)({...this.getLatest(),lastFetch:(new Date).getTime(),isPulling:!1}))}startPushing(){this.applyChange((0,i.fullChange)({...this.getLatest(),isPushing:!0}))}donePushing(){this.applyChange((0,i.fullChange)({...this.getLatest(),lastFetch:(new Date).getTime(),isPushing:!1}))}}t.GitSyncRepoResource=s},43934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(5163);i.__exportStar(n(31434),t);var s=n(31434);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.__importDefault(s).default}})},2206:(e,t,n)=>{e.exports=n(43934)},60814:(e,t,n)=>{e.exports=n(73858)}}]);